!function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=c(t);if(e){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return o(this,i)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qrMm:function(t,r,o){"use strict";o.r(r),o.d(r,"WorklistModule",(function(){return de}));var c,l=o("SVse"),s=o("s7LF"),u=o("UKGz"),f=o("sYmb"),p=o("3CNY"),b=o("iInd"),d=o("nWvw"),h=Array.isArray,g="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,v=g||y||Function("return this")(),m=v.Symbol,_=Object.prototype,O=_.hasOwnProperty,k=_.toString,w=m?m.toStringTag:void 0,S=Object.prototype.toString,T=m?m.toStringTag:void 0,P=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":T&&T in Object(t)?function(t){var e=O.call(t,w),i=t[w];try{t[w]=void 0;var n=!0}catch(a){}var r=k.call(t);return n&&(e?t[w]=i:delete t[w]),r}(t):function(t){return S.call(t)}(t)},x=function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==P(t)},A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/,R=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},E=v["__core-js_shared__"],C=(c=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",$=Function.prototype.toString,L=/^\[object .+?Constructor\]$/,j=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=function(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!R(t)||(e=t,C&&C in e))&&(function(t){if(!R(t))return!1;var e=P(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?j:L).test(function(t){if(null!=t){try{return $.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}(i)?i:void 0},F=M(Object,"create"),z=Object.prototype.hasOwnProperty,B=Object.prototype.hasOwnProperty;function K(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}K.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},K.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},K.prototype.get=function(t){var e=this.__data__;if(F){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return z.call(e,t)?e[t]:void 0},K.prototype.has=function(t){var e=this.__data__;return F?void 0!==e[t]:B.call(e,t)},K.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=F&&void 0===e?"__lodash_hash_undefined__":e,this};var D=K,W=function(t,e){for(var i=t.length;i--;)if((n=t[i][0])===(r=e)||n!=n&&r!=r)return i;var n,r;return-1},H=Array.prototype.splice;function N(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}N.prototype.clear=function(){this.__data__=[],this.size=0},N.prototype.delete=function(t){var e=this.__data__,i=W(e,t);return!(i<0||(i==e.length-1?e.pop():H.call(e,i,1),--this.size,0))},N.prototype.get=function(t){var e=this.__data__,i=W(e,t);return i<0?void 0:e[i][1]},N.prototype.has=function(t){return W(this.__data__,t)>-1},N.prototype.set=function(t,e){var i=this.__data__,n=W(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};var J=N,q=M(v,"Map"),U=function(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map};function G(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}G.prototype.clear=function(){this.size=0,this.__data__={hash:new D,map:new(q||J),string:new D}},G.prototype.delete=function(t){var e=U(this,t).delete(t);return this.size-=e?1:0,e},G.prototype.get=function(t){return U(this,t).get(t)},G.prototype.has=function(t){return U(this,t).has(t)},G.prototype.set=function(t,e){var i=U(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};var Y=G;function Q(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function i(){var n=arguments,r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=t.apply(this,n);return i.cache=a.set(r,o)||a,o};return i.cache=new(Q.Cache||Y),i}Q.Cache=Y;var V,Z,X,tt,et,it,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/\\(\\)?/g,at=(V=Q((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,i,n,r){e.push(n?r.replace(rt,"$1"):i||t)})),e}),(function(t){return 500===Z.size&&Z.clear(),t})),Z=V.cache,V),ot=m?m.prototype:void 0,ct=ot?ot.toString:void 0,lt=function(t){if("string"==typeof t||x(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},st=function(t,e,i){var n=null==t?void 0:function(t,e){for(var i=0,n=(e=function(t,e){return h(t)?t:function(t,e){if(h(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!x(t))||I.test(t)||!A.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:at(function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(h(e))return function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}(e,t)+"";if(x(e))return ct?ct.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i}(t)}(t))}(e,t)).length;null!=t&&i<n;)t=t[lt(e[i++])];return i&&i==n?t:void 0}(t,e);return void 0===n?i:n},ut=o("yaqY"),ft=o("Pn5l"),pt=o("mFWn"),bt=o("1G5W"),dt=o("8Y7J"),ht=((X=function(t){n(r,t);var e=a(r);function r(t,n){var a;return i(this,r),(a=e.call(this))._config=t,a._ref=n,a._authService=pt.a.injector.get(ut.a),a._fb=pt.a.injector.get(s.b),a._authService.isLoggedIn$$.pipe(Object(bt.a)(a.ngUnsubscribe$)).subscribe((function(t){t||a._ref.close()})),a}return r}(ft.a)).\u0275fac=function(t){return new(t||X)(dt.Jb(d.b),dt.Jb(d.d))},X.\u0275cmp=dt.Db({type:X,selectors:[["app-modal-base"]],features:[dt.vb],decls:1,vars:0,template:function(t,e){1&t&&dt.zc(0,"no template")},encapsulation:2}),X),gt=o("hhfa"),yt=o("F5nt"),vt=o("IheW"),mt=((tt=function(){function t(e){i(this,t),this._http=e}return e(t,[{key:"getTasks",value:function(){return this._http.get(yt.a.REST_API_URL+"/tasks")}},{key:"getTask",value:function(t){return this._http.get("".concat(yt.a.REST_API_URL,"/task/").concat(t))}},{key:"saveTask",value:function(t){return this._http.post("".concat(yt.a.REST_API_URL,"/task/").concat(t.id),t)}}]),t}()).\u0275fac=function(t){return new(t||tt)(dt.Tb(vt.b))},tt.\u0275prov=dt.Fb({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt),_t=o("p8hY"),Ot=o("c/fn"),kt=o("xCnN"),wt=o("ZBr/"),St=o("gtx6"),Tt=((it=function(){function t(){i(this,t),this.relAttr="",this.targetAttr="",this.hrefAttr="",this.href=""}return e(t,[{key:"ngOnChanges",value:function(){this.hrefAttr=this.href,this.isLinkAbsolute()&&(this.relAttr="noopener noreferrer",this.targetAttr="_blank")}},{key:"isLinkAbsolute",value:function(){return this.href.includes("://")}}]),t}()).\u0275fac=function(t){return new(t||it)},it.\u0275dir=dt.Eb({type:it,selectors:[["","handleLink",""]],hostVars:3,hostBindings:function(t,e){2&t&&dt.zb("rel",e.relAttr)("target",e.targetAttr)("href",e.hrefAttr,dt.tc)},inputs:{href:"href"},features:[dt.wb]}),it),Pt=((et=function(){function t(){i(this,t)}return e(t,[{key:"transform",value:function(t,e){return st(t,e)}}]),t}()).\u0275fac=function(t){return new(t||et)},et.\u0275pipe=dt.Ib({name:"get",type:et,pure:!0}),et);function xt(t,e){if(1&t&&(dt.Pb(0,"span",12),dt.bc(1,"translate"),dt.Kb(2,"i",13),dt.Pb(3,"span",14),dt.zc(4),dt.bc(5,"date"),dt.Ob(),dt.Ob()),2&t){var i=dt.ac();dt.hc("title",dt.cc(1,2,"TASK_MODAL.TIME_CREATED")),dt.yb(4),dt.Bc(" ",dt.dc(5,4,null==i.task?null:i.task.timeCreated,"dd.MM.yyyy HH:mm:ss")," ")}}function At(t,e){if(1&t&&(dt.Pb(0,"span",12),dt.bc(1,"translate"),dt.Kb(2,"i",15),dt.Pb(3,"span",14),dt.zc(4),dt.Ob(),dt.Ob()),2&t){var i=dt.ac();dt.hc("title",dt.cc(1,2,"TASK_MODAL.ROLE")),dt.yb(4),dt.Bc(" ",null==i.task?null:i.task.role," ")}}function It(t,e){1&t&&dt.Kb(0,"i",21)}function Rt(t,e){1&t&&dt.Kb(0,"i",22)}function Et(t,e){if(1&t&&(dt.Pb(0,"div",16),dt.bc(1,"translate"),dt.Pb(2,"span",17),dt.zc(3),dt.bc(4,"translate"),dt.Ob(),dt.Pb(5,"span",18),dt.xc(6,It,1,0,"i",19),dt.xc(7,Rt,1,0,"i",20),dt.zc(8),dt.Ob(),dt.Ob()),2&t){var i=dt.ac();dt.hc("title",dt.cc(1,15,"TASK_MODAL.PRIORITY")),dt.yb(3),dt.Bc(" ",dt.cc(4,17,"TASK_MODAL.PRIORITY")," "),dt.yb(2),dt.Bb("is-danger",i.task&&1===i.task.priority)("is-warning",i.task&&2===i.task.priority)("is-success",i.task&&3===i.task.priority)("is-primary",i.task&&4===i.task.priority)("is-info",i.task&&i.task.priority<4),dt.yb(1),dt.hc("ngIf",(null==i.task?null:i.task.priority)<=3),dt.yb(1),dt.hc("ngIf",(null==i.task?null:i.task.priority)>3),dt.yb(1),dt.Bc(" ",null==i.task?null:i.task.priority," ")}}function Ct(t,e){if(1&t&&(dt.Pb(0,"div",3),dt.zc(1),dt.Ob()),2&t){var i=dt.ac();dt.yb(1),dt.Bc(" ",null==i.task?null:i.task.message," ")}}function $t(t,e){if(1&t){var i=dt.Qb();dt.Pb(0,"div",26),dt.Pb(1,"label",27),dt.zc(2),dt.Ob(),dt.Pb(3,"input",28),dt.Wb("ngModelChange",(function(t){dt.rc(i);var e=dt.ac().$implicit,n=dt.ac();return(null==n.task?null:n.task.formFields)[e.key]=t})),dt.Ob(),dt.Ob()}if(2&t){var n=dt.ac().$implicit,r=dt.ac();dt.yb(1),dt.hc("for",n.key),dt.yb(1),dt.Ac(n.key),dt.yb(1),dt.hc("id",n.key)("ngModel",null==r.task?null:r.task.formFields[n.key])}}function Lt(t,e){if(1&t&&(dt.Pb(0,"div"),dt.Pb(1,"label",29),dt.zc(2),dt.Ob(),dt.Pb(3,"a",30),dt.zc(4),dt.Ob(),dt.Ob()),2&t){var i=dt.ac().$implicit;dt.yb(1),dt.hc("for",i.key),dt.yb(1),dt.Bc(" ",i.key,": "),dt.yb(1),dt.hc("href",i.value,dt.sc),dt.yb(1),dt.Ac(i.value)}}function jt(t,e){if(1&t&&(dt.Pb(0,"div"),dt.Pb(1,"label",27),dt.zc(2),dt.Ob(),dt.Pb(3,"a",30),dt.Pb(4,"div",31),dt.Kb(5,"img",32),dt.Ob(),dt.Ob(),dt.Ob()),2&t){var i=dt.ac().$implicit;dt.yb(1),dt.hc("for",i.key),dt.yb(1),dt.Bc(" ",i.key," "),dt.yb(1),dt.hc("href",i.value,dt.sc),dt.yb(2),dt.hc("src",i.value,dt.sc)}}var Mt=function(){return["link","img"]},Ft=function(){return["link"]},zt=function(){return["img"]};function Bt(t,e){if(1&t&&(dt.Pb(0,"div",23),dt.xc(1,$t,4,4,"div",24),dt.bc(2,"get"),dt.xc(3,Lt,5,4,"div",25),dt.bc(4,"get"),dt.xc(5,jt,6,4,"div",25),dt.bc(6,"get"),dt.Ob()),2&t){var i=e.$implicit,n=dt.ac();dt.hc("hidden","$$$Handler"===i.key),dt.yb(1),dt.hc("ngIf",!dt.ic(13,Mt).includes(dt.dc(2,4,null==n.formFields?null:n.formFields.$$$Handler,i.key))),dt.yb(2),dt.hc("ngIf",dt.ic(14,Ft).includes(dt.dc(4,7,null==n.formFields?null:n.formFields.$$$Handler,i.key))),dt.yb(2),dt.hc("ngIf",dt.ic(15,zt).includes(dt.dc(6,10,null==n.formFields?null:n.formFields.$$$Handler,i.key)))}}function Kt(t,e){if(1&t){var i=dt.Qb();dt.Pb(0,"button",33),dt.Wb("throttleClick",(function(){dt.rc(i);var t=e.$implicit;return dt.ac().performAction(t)})),dt.Ob()}if(2&t){var n=e.$implicit,r=dt.ac();dt.hc("disabled",r.loading)("label",n)}}var Dt,Wt=((Dt=function(t){n(o,t);var r=a(o);function o(t,e,n,a,c,l){var s;return i(this,o),(s=r.call(this,t,c))._config=t,s._el=e,s._i18n=n,s._messageService=a,s._ref=c,s._worklistService=l,s.formFields=null,s.loading=!0,s.placeholder="assets/images/placeholder.jpg",s.task=null,s}return e(o,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this._worklistService.getTask(this._config.data.id).subscribe((function(e){t.task=e,t.formFields=Object.assign({},e.formFields),t.loading=!1}),(function(e){var i=st(e,"error.summary","");t._messageService.add({severity:"error",summary:t._i18n.instant("TASK_MODAL.LOADING_ERROR"),detail:i}),console.error(e),t.closeModal(),t.loading=!1}))}},{key:"getBlockableElement",value:function(){return this._el.nativeElement.parentElement.parentElement}},{key:"performAction",value:function(t){var e=this;this.loading=!0;var i=Object.assign({},this.task);i.action=t,i.formFields&&i.formFields.$$$Handler&&(i.formFields.$$$Handler=JSON.stringify(i.formFields.$$$Handler)),this._worklistService.saveTask(i).subscribe((function(){setTimeout((function(){e._messageService.add("$Save"!==t?{severity:"success",summary:e._i18n.instant("TASK_MODAL.SUCCESS_MESSAGE"),detail:e._i18n.instant("TASK_MODAL.ACTION_COMPLETE",{action:t})}:{severity:"success",summary:e._i18n.instant("TASK_MODAL.SAVING_COMPLETE")}),e.closeModal(t),e.loading=!1}),300)}),(function(t){var i=st(t,"error.summary","");e._messageService.add({severity:"error",summary:e._i18n.instant("TASK_MODAL.SAVING_ERROR"),detail:i}),console.error(t),e.loading=!1}))}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ref.close(t)}}]),o}(ht)).\u0275fac=function(t){return new(t||Dt)(dt.Jb(d.b),dt.Jb(dt.l),dt.Jb(f.d),dt.Jb(gt.c),dt.Jb(d.d),dt.Jb(mt))},Dt.\u0275cmp=dt.Db({type:Dt,selectors:[["app-task-modal"]],features:[dt.vb],decls:16,vars:18,consts:[[3,"target","blocked"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem"],[1,"columns","is-multiline","p-dialog-content",2,"max-height","60vh","overflow","auto","padding","0"],[1,"column","is-full"],["class","details-header","style","display: inline-block; margin-right: 32px",3,"title",4,"ngIf"],["style","display: inline-flex;","class","details-header tags has-addons",3,"title",4,"ngIf"],["class","column is-full",4,"ngIf"],["class","column is-full",3,"hidden",4,"ngFor","ngForOf"],[1,"p-dialog-footer",2,"padding","0","text-align","right"],["pButton","","pRipple","","style","margin-right: 8px","class","is-fullwidth-mobile",3,"disabled","label","throttleClick",4,"ngFor","ngForOf"],["pButton","","pRipple","","icon","pi pi-save",1,"button","is-success","is-fullwidth-mobile",2,"margin-right","8px",3,"disabled","label","throttleClick"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-secondary","is-fullwidth-mobile",3,"disabled","label","click"],[1,"details-header",2,"display","inline-block","margin-right","32px",3,"title"],[1,"pi","pi-clock",2,"font-weight","bold","vertical-align","middle","margin-right","4px"],[2,"font-size","13px","font-weight","600"],[1,"pi","pi-user",2,"font-weight","bold","vertical-align","middle","margin-right","4px"],[1,"details-header","tags","has-addons",2,"display","inline-flex",3,"title"],[1,"tag","is-light",2,"margin-bottom","0","font-size","12px"],[1,"tag",2,"margin-bottom","0","font-size","12px"],["class","pi pi-arrow-up","style","font-size: 9px; font-weight: bold; vertical-align: middle; margin-right: 4px",4,"ngIf"],["class","pi pi-arrow-down","style","font-size: 9px; font-weight: bold; vertical-align: middle; margin-right: 4px",4,"ngIf"],[1,"pi","pi-arrow-up",2,"font-size","9px","font-weight","bold","vertical-align","middle","margin-right","4px"],[1,"pi","pi-arrow-down",2,"font-size","9px","font-weight","bold","vertical-align","middle","margin-right","4px"],[1,"column","is-full",3,"hidden"],["class","field",4,"ngIf"],[4,"ngIf"],[1,"field"],[1,"label",3,"for"],["type","text","pInputText","",2,"width","100%",3,"id","ngModel","ngModelChange"],[1,"label",2,"display","inline",3,"for"],["handleLink","",3,"href"],[1,"img-placeholder"],[2,"height","100px",3,"src"],["pButton","","pRipple","",1,"is-fullwidth-mobile",2,"margin-right","8px",3,"disabled","label","throttleClick"]],template:function(t,e){1&t&&(dt.Pb(0,"p-blockUI",0),dt.Kb(1,"i",1),dt.Ob(),dt.Pb(2,"div",2),dt.Pb(3,"div",3),dt.xc(4,xt,6,7,"span",4),dt.xc(5,At,5,4,"span",4),dt.xc(6,Et,9,19,"div",5),dt.Ob(),dt.xc(7,Ct,2,1,"div",6),dt.xc(8,Bt,7,16,"div",7),dt.bc(9,"keyvalue"),dt.Ob(),dt.Pb(10,"div",8),dt.xc(11,Kt,1,2,"button",9),dt.Pb(12,"button",10),dt.Wb("throttleClick",(function(){return e.performAction("$Save")})),dt.bc(13,"translate"),dt.Ob(),dt.Pb(14,"button",11),dt.Wb("click",(function(){return e.closeModal()})),dt.bc(15,"translate"),dt.Ob(),dt.Ob()),2&t&&(dt.hc("target",e)("blocked",e.loading),dt.yb(4),dt.hc("ngIf",null==e.task?null:e.task.timeCreated),dt.yb(1),dt.hc("ngIf",null==e.task?null:e.task.role),dt.yb(1),dt.hc("ngIf",null==e.task?null:e.task.priority),dt.yb(1),dt.hc("ngIf",null==e.task?null:e.task.message),dt.yb(1),dt.hc("ngForOf",dt.cc(9,12,e.formFields)),dt.yb(3),dt.hc("ngForOf",null==e.task||null==e.task.actions?null:e.task.actions.split(",")),dt.yb(1),dt.hc("disabled",e.loading)("label",dt.cc(13,14,"TASK_MODAL.SAVE_BUTTON")),dt.yb(2),dt.hc("disabled",e.loading)("label",dt.cc(15,16,"TASK_MODAL.CLOSE_BUTTON")))},directives:[_t.a,l.m,l.l,Ot.a,kt.a,wt.a,s.a,St.a,s.h,s.j,Tt],pipes:[l.g,f.c,l.e,Pt],styles:[".priority-top[_ngcontent-%COMP%]{color:#e54343}.priority-2nd[_ngcontent-%COMP%]{color:#e8912f}.priority-3rd[_ngcontent-%COMP%]{color:#f5da2c}.priority-4th[_ngcontent-%COMP%]{color:#268226}.priority-low[_ngcontent-%COMP%]{color:#2088cd}.img-placeholder[_ngcontent-%COMP%]{height:100px;background-repeat:no-repeat;background-size:contain;background-image:url(placeholder.26c5501417f0a21d2c61.gif)}.details-header[_ngcontent-%COMP%], .p-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:8px}@media screen and (min-width:769px){.details-header[_ngcontent-%COMP%], .p-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:0}}"]}),Dt),Ht=o("8aBz"),Nt=o("ZRSf");function Jt(t,e){if(1&t){var i=dt.Qb();dt.Pb(0,"div",6),dt.zc(1),dt.bc(2,"translate"),dt.Pb(3,"span",7),dt.Kb(4,"i",8),dt.Pb(5,"input",9),dt.Wb("input",(function(t){return dt.rc(i),dt.ac(),dt.qc(1).filterGlobal(t.target.value,"contains")})),dt.bc(6,"translate"),dt.Ob(),dt.Ob(),dt.Pb(7,"button",10),dt.Wb("throttleClick",(function(){return dt.rc(i),dt.ac().onRefresh()})),dt.bc(8,"translate"),dt.Ob(),dt.Ob()}2&t&&(dt.yb(1),dt.Bc(" ",dt.cc(2,3,"WORKLIST.TABLE_TITLE")," "),dt.yb(4),dt.hc("placeholder",dt.cc(6,5,"WORKLIST.SEARCH_PLACEHOLDER")),dt.yb(2),dt.hc("label",dt.cc(8,7,"WORKLIST.REFRESH_BUTTON")))}function qt(t,e){if(1&t&&dt.Kb(0,"p-sortIcon",16),2&t){var i=dt.ac().$implicit;dt.hc("field",i.field)}}function Ut(t,e){if(1&t&&(dt.Pb(0,"th",14),dt.zc(1),dt.xc(2,qt,1,1,"p-sortIcon",15),dt.Ob()),2&t){var i=e.$implicit;dt.wc("width",i.width),dt.hc("pSortableColumn",i.isSortable?i.field:null),dt.yb(1),dt.Bc(" ",i.header," "),dt.yb(1),dt.hc("ngIf",i.isSortable)}}function Gt(t,e){if(1&t&&(dt.Pb(0,"tr"),dt.Pb(1,"th",11),dt.zc(2,"#"),dt.Ob(),dt.xc(3,Ut,3,5,"th",12),dt.Kb(4,"th",13),dt.Ob()),2&t){var i=dt.ac();dt.yb(3),dt.hc("ngForOf",i.cols)}}function Yt(t,e){1&t&&(dt.Pb(0,"span",27),dt.zc(1,"New"),dt.Ob())}function Qt(t,e){if(1&t&&(dt.Pb(0,"span"),dt.xc(1,Yt,2,0,"span",26),dt.Ob()),2&t){var i=dt.ac().$implicit,n=dt.ac().$implicit;dt.yb(1),dt.hc("ngIf",n[i.field])}}function Vt(t,e){if(1&t&&(dt.Pb(0,"span"),dt.zc(1),dt.bc(2,"date"),dt.Ob()),2&t){var i=dt.ac().$implicit,n=dt.ac().$implicit;dt.yb(1),dt.Bc(" ",dt.dc(2,1,n[i.field],"dd.MM.yyyy HH:mm:ss")," ")}}function Zt(t,e){if(1&t&&(dt.Pb(0,"span"),dt.zc(1),dt.Ob()),2&t){var i=dt.ac().$implicit,n=dt.ac().$implicit;dt.yb(1),dt.Bc(" ",n[i.field]," ")}}function Xt(t,e){if(1&t&&(dt.Pb(0,"td",23),dt.xc(1,Qt,2,1,"span",24),dt.xc(2,Vt,3,4,"span",24),dt.xc(3,Zt,2,1,"span",25),dt.Ob()),2&t){var i=e.$implicit;dt.wc("width",i.width)("text-align",i.align),dt.Bb("tagged-cell","isNew"===i.field),dt.hc("ngSwitch",i.field),dt.yb(1),dt.hc("ngSwitchCase","isNew"),dt.yb(1),dt.hc("ngSwitchCase","timeCreated")}}function te(t,e){if(1&t){var i=dt.Qb();dt.Pb(0,"button",28),dt.Wb("click",(function(){dt.rc(i);var t=dt.ac().$implicit;return dt.ac().onAccept(t)})),dt.bc(1,"translate"),dt.Ob()}2&t&&dt.hc("title",dt.cc(1,1,"WORKLIST.ACCEPT_BUTTON"))}function ee(t,e){if(1&t){var i=dt.Qb();dt.Pb(0,"button",29),dt.Wb("click",(function(){dt.rc(i);var t=dt.ac().$implicit;return dt.ac().onDetails(t)})),dt.bc(1,"translate"),dt.Ob()}2&t&&dt.hc("title",dt.cc(1,1,"WORKLIST.DETAILS_BUTTON"))}function ie(t,e){if(1&t){var i=dt.Qb();dt.Pb(0,"button",30),dt.Wb("click",(function(){dt.rc(i);var t=dt.ac().$implicit;return dt.ac().onRelinquish(t)})),dt.bc(1,"translate"),dt.Kb(2,"i",31),dt.Ob()}2&t&&dt.hc("title",dt.cc(1,1,"WORKLIST.RELINQUISH_BUTTON"))}function ne(t,e){if(1&t&&(dt.Pb(0,"tr"),dt.Pb(1,"td",17),dt.zc(2),dt.Ob(),dt.xc(3,Xt,4,9,"td",18),dt.Pb(4,"td",19),dt.xc(5,te,2,3,"button",20),dt.xc(6,ee,2,3,"button",21),dt.xc(7,ie,3,3,"button",22),dt.Ob(),dt.Ob()),2&t){var i=e.$implicit,n=e.rowIndex,r=dt.ac();dt.yb(2),dt.Ac(n+1),dt.yb(1),dt.hc("ngForOf",r.cols),dt.yb(2),dt.hc("ngIf",i.isNew),dt.yb(1),dt.hc("ngIf",!i.isNew),dt.yb(1),dt.hc("ngIf",!i.isNew)}}function re(t,e){if(1&t&&(dt.Pb(0,"div",32),dt.zc(1),dt.bc(2,"translate"),dt.Ob()),2&t){dt.ac();var i=dt.qc(1);dt.yb(1),dt.Cc("",dt.cc(2,2,"WORKLIST.TOTAL"),": ",i.totalRecords,"")}}var ae,oe,ce,le,se=function(){return[10,25,50,100]},ue=function(){return{minWidth:"1024px"}},fe=((ae=function(){function t(e){i(this,t),this._i18n=e,this.items=[],this.loading=!1,this.accept=new dt.n,this.details=new dt.n,this.refresh=new dt.n,this.relinquish=new dt.n,this.cols=[{field:"isNew",header:"",width:"60px",align:"center",isSortable:!0},{field:"priority",header:this._i18n.instant("WORKLIST.TABLE_HEADERS.PRIORITY"),width:"130px",align:"right",isSortable:!0},{field:"subject",header:this._i18n.instant("WORKLIST.TABLE_HEADERS.SUBJECT"),isSortable:!0},{field:"message",header:this._i18n.instant("WORKLIST.TABLE_HEADERS.MESSAGE"),isSortable:!0},{field:"role",header:this._i18n.instant("WORKLIST.TABLE_HEADERS.ROLE"),isSortable:!0},{field:"timeCreated",header:this._i18n.instant("WORKLIST.TABLE_HEADERS.TIME_CREATED"),width:"160px",align:"center",isSortable:!0}],this.filterCols=["priority","subject","message","role","timeCreated"]}return e(t,[{key:"onAccept",value:function(t){this.accept.emit(t)}},{key:"onRelinquish",value:function(t){this.relinquish.emit(t)}},{key:"onDetails",value:function(t){this.details.emit(t)}},{key:"onRefresh",value:function(){this.refresh.emit()}}]),t}()).\u0275fac=function(t){return new(t||ae)(dt.Jb(f.d))},ae.\u0275cmp=dt.Db({type:ae,selectors:[["app-tasks-table"]],inputs:{items:"items",loading:"loading"},outputs:{accept:"accept",details:"details",refresh:"refresh",relinquish:"relinquish"},decls:6,vars:11,consts:[["dataKey","id","sortField","timeCreated","styleClass","p-datatable-sm p-datatable-gridlines",3,"loading","globalFilterFields","paginator","rows","rowsPerPageOptions","value","scrollable","tableStyle","sortOrder"],["table",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","paginatorleft"],[1,"table-header"],[1,"p-input-icon-left",2,"margin-left","16px","width","40%"],[1,"pi","pi-search"],["pInputText","","type","text",2,"width","100%",3,"placeholder","input"],["pButton","","pRipple","","icon","pi pi-refresh",1,"is-pulled-right","no-label-mobile",3,"label","throttleClick"],[2,"width","60px"],[3,"width","pSortableColumn",4,"ngFor","ngForOf"],[2,"width","85px"],[3,"pSortableColumn"],[3,"field",4,"ngIf"],[3,"field"],[2,"width","60px","text-align","right"],[3,"width","text-align","tagged-cell","ngSwitch",4,"ngFor","ngForOf"],[1,"button-cell",2,"width","85px","vertical-align","middle"],["type","button","pButton","","pRipple","","icon","pi pi-check","iconPos","left","class","button is-success",3,"title","click",4,"ngIf"],["type","button","pButton","","pRipple","","icon","pi pi-search","iconPos","left","style","margin-right: 8px",3,"title","click",4,"ngIf"],["type","button","pButton","","pRipple","","icon","pi pi-minus-circle","iconPos","left","class","p-button-danger",3,"title","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","tag is-info is-light",4,"ngIf"],[1,"tag","is-info","is-light"],["type","button","pButton","","pRipple","","icon","pi pi-check","iconPos","left",1,"button","is-success",3,"title","click"],["type","button","pButton","","pRipple","","icon","pi pi-search","iconPos","left",2,"margin-right","8px",3,"title","click"],["type","button","pButton","","pRipple","","icon","pi pi-minus-circle","iconPos","left",1,"p-button-danger",3,"title","click"],[1,"fa","fa-copy"],[1,"total"]],template:function(t,e){1&t&&(dt.Pb(0,"p-table",0,1),dt.xc(2,Jt,9,9,"ng-template",2),dt.xc(3,Gt,5,1,"ng-template",3),dt.xc(4,ne,8,5,"ng-template",4),dt.xc(5,re,3,4,"ng-template",5),dt.Ob()),2&t&&dt.hc("loading",e.loading)("globalFilterFields",e.filterCols)("paginator",!0)("rows",25)("rowsPerPageOptions",dt.ic(9,se))("value",e.items)("scrollable",!0)("tableStyle",dt.ic(10,ue))("sortOrder",-1)},directives:[Nt.c,gt.e,St.a,Ot.a,kt.a,wt.a,l.l,Nt.b,l.m,Nt.a,l.o,l.p,l.q],pipes:[f.c,l.e],styles:[""],changeDetection:0}),ae),pe=[{path:"",pathMatch:"full",component:(oe=function(){function t(e,n,r){i(this,t),this._dialogService=e,this._i18n=n,this._worklistService=r,this.loading=!0,this.tasks=[]}return e(t,[{key:"ngOnInit",value:function(){this.loadTasks()}},{key:"loadTasks",value:function(){var t=this;this.loading=!0,this._worklistService.getTasks().subscribe((function(e){t.tasks=e,t.loading=!1}),(function(){t.tasks=[],t.loading=!1}))}},{key:"acceptTask",value:function(t){var e=this;t=Object.assign(Object.assign({},t),{action:"$Accept",formFields:{}}),this._worklistService.saveTask(t).subscribe((function(){return e.loadTasks()}))}},{key:"relinquishTask",value:function(t){var e=this;t=Object.assign(Object.assign({},t),{action:"$Relinquish",formFields:{}}),this._worklistService.saveTask(t).subscribe((function(){return e.loadTasks()}))}},{key:"showTaskDetails",value:function(t){var e=this;this._dialogService.open(Wt,{contentStyle:{overflow:"hidden"},data:{id:t.id},header:t.subject||this._i18n.instant("TASK_MODAL.TITLE"),dismissableMask:!1,transitionOptions:"350ms cubic-bezier(0.25, 0.8, 0.25, 1)",modal:!0,style:{"max-width":"1200px"},styleClass:"details-modal"}).onClose.subscribe((function(t){return t?e.loadTasks():null}))}}]),t}(),oe.\u0275fac=function(t){return new(t||oe)(dt.Jb(d.a),dt.Jb(f.d),dt.Jb(mt))},oe.\u0275cmp=dt.Db({type:oe,selectors:[["app-worklist-container"]],features:[dt.xb([d.a])],decls:5,vars:2,consts:[[1,"hero","fullheight-with-navbar","main-bg"],["position","top-right"],[1,"container","is-fluid",2,"padding-top","32px","padding-bottom","32px"],[1,"card","border-rounded",2,"padding","16px","overflow","auto"],[3,"loading","items","refresh","accept","relinquish","details"]],template:function(t,e){1&t&&(dt.Pb(0,"div",0),dt.Kb(1,"p-toast",1),dt.Pb(2,"div",2),dt.Pb(3,"div",3),dt.Pb(4,"app-tasks-table",4),dt.Wb("refresh",(function(){return e.loadTasks()}))("accept",(function(t){return e.acceptTask(t)}))("relinquish",(function(t){return e.relinquishTask(t)}))("details",(function(t){return e.showTaskDetails(t)})),dt.Ob(),dt.Ob(),dt.Ob(),dt.Ob()),2&t&&(dt.yb(4),dt.hc("loading",e.loading)("items",e.tasks))},directives:[Ht.a,fe],styles:[""]}),oe)}],be=((le=function t(){i(this,t)}).\u0275mod=dt.Hb({type:le}),le.\u0275inj=dt.Gb({factory:function(t){return new(t||le)},imports:[[b.b.forChild(pe)],b.b]}),le),de=((ce=function t(){i(this,t)}).\u0275mod=dt.Hb({type:ce}),ce.\u0275inj=dt.Gb({factory:function(t){return new(t||ce)},imports:[[l.c,s.f,s.k,u.a,f.b,p.a,be]]}),ce)}}])}();